# Alembic Migrations

Gerenciamento de migra√ß√µes de banco de dados usando **Alembic** e SQLAlchemy.

---

## üì¶ Instala√ß√£o

```bash
pip install alembic
```

---

## ‚öôÔ∏è Inicializa√ß√£o

```bash
# Inicializa Alembic
alembic init alembic
```

Configure a URL do banco no `alembic.ini`:

```ini
sqlalchemy.url = postgresql+psycopg2://usuario:senha@localhost:5432/meubanco
```

E a metadata no `env.py`:

```python
from myapp.models import Base
target_metadata = Base.metadata
```

---

## üìë Comandos Essenciais

### Criar Migra√ß√£o

```bash
# Migra√ß√£o vazia
alembic revision -m "descri√ß√£o da mudan√ßa"

# Migra√ß√£o autom√°tica
alembic revision --autogenerate -m "descri√ß√£o da mudan√ßa"
```

### Aplicar e Reverter Migra√ß√µes

```bash
# Aplicar todas as migra√ß√µes
alembic upgrade head

# Reverter √∫ltima migra√ß√£o
alembic downgrade -1

# Reverter para uma vers√£o espec√≠fica
alembic downgrade <revision_id>
```

### Hist√≥rico

```bash
alembic history --verbose
```

---

## üîÑ Reset de Banco (Desenvolvimento)

```bash
alembic downgrade base
alembic upgrade head
```

---

## ‚ö°Ô∏è Refer√™ncias

- [Alembic Documentation](https://alembic.sqlalchemy.org/)
- [SQLAlchemy Metadata](https://docs.sqlalchemy.org/en/20/core/metadata.html#metadata)
